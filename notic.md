# 2. 机器人操作学核心公式总结

本章总结了机器人硬件与控制系统中涉及的主要数学公式，便于查阅和理解。

## 2.1 电机扭矩与电流关系
position-controlled robot （即不提供扭矩控制的机器人）
$$
\tau_{motor} = k_t i
$$
- $\tau_{motor}$：电机输出扭矩
- $i$：电机电流
- $k_t$：电机扭矩常数

当减速比远远大于10的时候，扭矩将不再与电流成线性关系。所以添加便宜的位置传感器和速度传感器，使用位置控制器来间接控制电机。

## 2.2 齿轮传动比关系

$$
q_{motor} = n q
$$
$$
\dot{q}_{motor} = n \dot{q}
$$
$$
\ddot{q}_{motor} = n \ddot{q}
$$
$$
\tau_{motor} = \frac{1}{n} \tau
$$
- $n$：齿轮传动比
- $q$：关节角度
- $\tau$：关节扭矩

## 2.3 关节动力学与反射惯量

单关节动力学：
$$
I_{arm} \ddot{q} = \tau_{gravity} + \tau
$$

考虑齿轮传动：
$$
\frac{I_{arm}}{n} \ddot{q}_{motor} = \tau_{gravity} + n\tau_{motor}
$$

带反射惯量（reflected inertia）的完整动力学：
$$
\left(I_{motor} + \frac{I_{arm}}{n^2}\right) \ddot{q}_{motor} = \frac{\tau_{gravity}}{n} + \tau_{motor}
$$
- $I_{motor}$：电机转动惯量
- $I_{arm}$：机械臂转动惯量

"反射惯量"表示由于传动比缩放效应，而在传动另一侧感受到的惯性负载。
- 机械臂惯量“映射”到电机侧，会除以 $n^2$  
- 电机惯量“映射”到关节侧，会乘以  $n^2$  

当减速比很大： 
- 电机的惯量主导整个动力学（即使电机质量很小）。==> 就算机器人姿态不同，负载不同，PID 控制参数也不用经常调。
- 关节之间的耦合项变小，动力学近似对角化。
- 系统在整个工作空间里动力学变化不大。==> 工业机器人里，每个关节的 PID 参数大多是固定的。

## 2.4 PID位置控制器

$$
\tau = k_p (q^d - q) + k_d (\dot{q}^d - \dot{q}) + k_i \int (q^d - q) dt
$$
- $k_p$：比例增益
- $k_d$：微分增益
- $k_i$：积分增益
- $q^d$：期望关节位置
- $q$：实际关节位置

---

这些公式是理解和设计机器人控制系统的基础，适用于工业机械臂、服务机器人等多种场景。

## 2.x
plant: 是控制系统中，表示要控制的物理系统的单词。源于对“化工厂”的控制。